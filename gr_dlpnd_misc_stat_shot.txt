InitExtraMiscStat "Shot Torso"
InitExtraMiscStat "Shot Head"
InitExtraMiscStat "Shot Left Arm"
InitExtraMiscStat "Shot Right Arm"
InitExtraMiscStat "Shot Left Leg"
InitExtraMiscStat "Shot Right Leg"
InitExtraMiscStat "Shot Brain"

SetEventHandler "DLpndSetHuman" (begin function { int iHit }
    if iHit == 0
        ModExtraMiscStat "Shot Torso" 1
    elseif iHit == 1
        ModExtraMiscStat "Shot Head" 1
    elseif iHit == 3
        ModExtraMiscStat "Shot Left Arm" 1
    elseif (iHit == 5 || iHit == 14)
        ModExtraMiscStat "Shot Right Arm" 1
    elseif iHit == 7
        ModExtraMiscStat "Shot Left Leg" 1
    elseif iHit == 10
        ModExtraMiscStat "Shot Right Leg" 1
    endif
end)

SetEventHandler "DLpndSetCreat" (begin function { int iHit }
    if iHit == 2
        ModExtraMiscStat "Shot Head" 1
    elseif iHit == 4
        ModExtraMiscStat "Shot Left Arm" 1
    elseif iHit == 6
        ModExtraMiscStat "Shot Right Arm" 1
    elseif (iHit == 8 || iHit == 9)
        ModExtraMiscStat "Shot Left Leg" 1
    elseif (iHit == 11 || iHit == 12)
        ModExtraMiscStat "Shot Right Leg" 1
    elseif iHit == 13
        ModExtraMiscStat "Shot Brain" 1
    endif
end)

SetOnHitEventHandler (begin function {}
    ref rT = this 
    if eval (rT.GetDead == 0 && rT != Player)
        int iHit = rT.GetHitLocation
        string_var sEvent = "DLpndSetCreat"
        if Ar_Any (Ar_List 0, 1, 3, 5, 7, 10, 14) ({array_var aIter} => *aIter == iHit)
            sEvent = "DLpndSetHuman"
        endif
        DispatchEventAlt sEvent iHit
    endif
end) 1
