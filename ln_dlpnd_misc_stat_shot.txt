SetEventHandlerAlt "DLpndSetHuman" (begin function { int iHL } 
    if eval (iHL == 0)
        ModExtraMiscStat "Shot Torso" 1
    elseif eval (iHL == 1)
        ModExtraMiscStat "Shot Head" 1
    elseif eval (iHL == 3)
        ModExtraMiscStat "Shot L Arm" 1
    elseif eval (iHL == 5 || iHL == 14)
        ModExtraMiscStat "Shot R Arm" 1
    elseif eval (iHL == 7)
        ModExtraMiscStat "Shot L Leg" 1
    elseif eval (iHL == 10)
        ModExtraMiscStat "Shot R Leg" 1
    endif
end)

SetEventHandlerAlt "DLpndSetCreature" (begin function { int iHL } 
    if eval (iHL == 2)
        ModExtraMiscStat "Shot Head" 1
    elseif eval (iHL == 4)
        ModExtraMiscStat "Shot L Arm" 1
    elseif eval (iHL == 6)
        ModExtraMiscStat "Shot R Arm" 1
    elseif eval (iHL == 8 || iHL == 9)
        ModExtraMiscStat "Shot L Leg" 1
    elseif eval (iHL == 11 || iHL == 12)
        ModExtraMiscStat "Shot R Leg" 1
    elseif eval (iHL == 13)
        ModExtraMiscStat "Shot Brain" 1
    endif
end)

SetEventHandlerAlt "DLpndReset1" (begin function {}
    ModExtraMiscStat "Shot Torso" (-(GetExtraMiscStat "Shot Torso"))
    ModExtraMiscStat "Shot Head" (-(GetExtraMiscStat "Shot Head"))
    ModExtraMiscStat "Shot L Arm"(-(GetExtraMiscStat "Shot L Arm"))
end)

SetEventHandlerAlt "DLpndReset2" (begin function {}
    ModExtraMiscStat "Shot R Arm" (-(GetExtraMiscStat "Shot R Arm"))
    ModExtraMiscStat "Shot L Leg" (-(GetExtraMiscStat "Shot L Leg"))
    ModExtraMiscStat "Shot R Leg" (-(GetExtraMiscStat "Shot R Leg"))
    ModExtraMiscStat "Shot Brain" (-(GetExtraMiscStat "Shot Brain"))
end)

SetEventHandler "OnKeyDown:62" (begin function { int keyCode }
    DispatchEventAlt "DLpndReset1"
    DispatchEventAlt "DLpndReset2"
end)

SetOnHitEventHandler (begin function {}
    ref rTarget = this 
    if eval (rTarget.GetDead == 0 && rTarget != Player)
        int iHL = rTarget.GetHitLocation
        let array_var aHuman := Ar_List 0, 1, 3, 5, 7, 10, 14
        if Ar_Any aHuman ({array_var aIter} => *aIter == iHL)
            DispatchEventAlt "DLpndSetHuman" iHL
        endif
    endif
end) 1

SetOnHitEventHandler (begin function {}
    ref rTarget = this 
    if eval (rTarget.GetDead == 0 && rTarget != Player)
        int iHL = rTarget.GetHitLocation
        let array_var aCreature := Ar_List 2, 4, 6, 8, 9, 11, 12, 13
        if Ar_Any aCreature ({array_var aIter} => *aIter == iHL)
            DispatchEventAlt "DLpndSetCreature" iHL
        endif
    endif
end) 1
